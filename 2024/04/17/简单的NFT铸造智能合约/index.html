<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"47.120.40.107","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":false,"style":"default"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":-1,"unescape":true,"preload":false},"motion":{"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="代码以下将展示一个简单的 NFT 铸造智能合约 (忽略交易相关的函数) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868">
<meta property="og:type" content="article">
<meta property="og:title" content="简单的NFT铸造智能合约">
<meta property="og:url" content="https://47.120.40.107/2024/04/17/%E7%AE%80%E5%8D%95%E7%9A%84NFT%E9%93%B8%E9%80%A0%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/index.html">
<meta property="og:site_name" content="黄梓铭 (Ivan Wong)">
<meta property="og:description" content="代码以下将展示一个简单的 NFT 铸造智能合约 (忽略交易相关的函数) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2024-04-17T03:30:19.000Z">
<meta property="article:modified_time" content="2024-04-18T12:01:10.045Z">
<meta property="article:author" content="黄梓铭">
<meta property="article:tag" content="C&#x2F;C++, C#, Go, 算法, 游戏">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://47.120.40.107/2024/04/17/%E7%AE%80%E5%8D%95%E7%9A%84NFT%E9%93%B8%E9%80%A0%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>简单的NFT铸造智能合约 | 黄梓铭 (Ivan Wong)</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">黄梓铭 (Ivan Wong)</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">6</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">8</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://47.120.40.107/2024/04/17/%E7%AE%80%E5%8D%95%E7%9A%84NFT%E9%93%B8%E9%80%A0%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/MyPhoto.jpg">
      <meta itemprop="name" content="黄梓铭">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黄梓铭 (Ivan Wong)">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          简单的NFT铸造智能合约
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2024-04-17 11:30:19" itemprop="dateCreated datePublished" datetime="2024-04-17T11:30:19+08:00">2024-04-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-04-18 20:01:10" itemprop="dateModified" datetime="2024-04-18T20:01:10+08:00">2024-04-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A7%91%E7%A0%94/" itemprop="url" rel="index"><span itemprop="name">科研</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>28k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>25 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h3><span id="代码">代码</span></h3><p>以下将展示一个简单的 NFT 铸造智能合约 (忽略交易相关的函数)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity &gt;=0.8.0;</span><br><span class="line"></span><br><span class="line">// ERC 165 标准接口</span><br><span class="line">interface IERC165 &#123;&#125;</span><br><span class="line"></span><br><span class="line">// ERC 721 标准接口</span><br><span class="line">interface IERC721 is IERC165 &#123;</span><br><span class="line">    function balanceOf(address owner) external view returns (uint balance);</span><br><span class="line"></span><br><span class="line">    function ownerOfTokenId(uint tokenId) external view returns (address owner);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">contract ERC721 is IERC721 &#123;</span><br><span class="line">	</span><br><span class="line">    using Address for address;</span><br><span class="line"></span><br><span class="line">    // Mapping from token ID to owner address</span><br><span class="line">    mapping(uint =&gt; address) private _owners;</span><br><span class="line"></span><br><span class="line">    // Mapping owner address to token count</span><br><span class="line">    mapping(address =&gt; uint) private _balances;</span><br><span class="line"></span><br><span class="line">	// 新的Mapping Mapping from tokenId to pictrue URL</span><br><span class="line">	mapping(uint256 =&gt; string) private _tokenURLs;</span><br><span class="line"></span><br><span class="line">    // New mapping to map URL to token ID</span><br><span class="line">    mapping(string =&gt; uint256) private _urlToTokenId;</span><br><span class="line"></span><br><span class="line">    mapping(address =&gt; uint256[]) private _ownedTokens;</span><br><span class="line"></span><br><span class="line">    mapping(address =&gt; string[]) private _ownedURLs;</span><br><span class="line">	</span><br><span class="line">	// 新的事件，当设置tokenURL时触发</span><br><span class="line">	event TokenURLSet(uint256 indexed tokenId, string url);</span><br><span class="line"></span><br><span class="line">    // 私有函数_mint实现通过address和tokenId铸造NFT</span><br><span class="line">    function _mint(address to, uint tokenId) private &#123;</span><br><span class="line">        require(to != address(0), &quot;mint to zero address&quot;);</span><br><span class="line">        require(_owners[tokenId] == address(0), &quot;token already minted&quot;);</span><br><span class="line"></span><br><span class="line">        _balances[to] += 1;</span><br><span class="line">        _owners[tokenId] = to;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	// 新的内部函数来设置tokenURL</span><br><span class="line">    function _setTokenURL(uint256 tokenId, string memory tokenURI) internal &#123;</span><br><span class="line">        require(_exists(tokenId), &quot;URL set of nonexistent token&quot;);</span><br><span class="line">        _tokenURLs[tokenId] = tokenURI;</span><br><span class="line">        emit TokenURLSet(tokenId, tokenURI);</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">	// 铸造NFT的mint函数接受address和图片URL实现铸造</span><br><span class="line">    function mint(address to, string memory tokenURI) public &#123;</span><br><span class="line">        // 通过图片URL的哈希值计算tokenId的哈希值</span><br><span class="line">        bytes32 hash = keccak256(abi.encodePacked(tokenURI));</span><br><span class="line">        uint256 newTokenId = uint256(hash);</span><br><span class="line"></span><br><span class="line">        // 调用_mint函数来铸造代币</span><br><span class="line">        _mint(to, newTokenId);</span><br><span class="line"></span><br><span class="line">        // 设置tokenURL和tokenId</span><br><span class="line">        _setTokenURL(newTokenId, tokenURI);</span><br><span class="line">        _urlToTokenId[tokenURI] = newTokenId;</span><br><span class="line">        _ownedTokens[to].push(newTokenId);</span><br><span class="line">        _ownedURLs[to].push(tokenURI);</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">	// 新的函数根据tokenId来获取tokenURL</span><br><span class="line">    function getURLbyTokeId(uint256 tokenId) public view returns (string memory) &#123;</span><br><span class="line">        require(_exists(tokenId), &quot;URL query for nonexistent token&quot;);</span><br><span class="line">        return _tokenURLs[tokenId];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 新的函数根据URL来获取tokenId</span><br><span class="line">    function getTokenIdByUrl(string memory tokenURI) public view returns (uint256) &#123;</span><br><span class="line">        uint256 tokenId = _urlToTokenId[tokenURI];</span><br><span class="line">        require(_exists(tokenId), &quot;Token with this URL does not exist&quot;);</span><br><span class="line"></span><br><span class="line">        return tokenId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 销毁NFT</span><br><span class="line">    function burn(uint256 tokenId) external &#123;</span><br><span class="line">        address owner = ownerOfTokenId(tokenId);</span><br><span class="line">        require(msg.sender == owner, &quot;not owner of token&quot;);</span><br><span class="line"></span><br><span class="line">        _balances[owner] -= 1;</span><br><span class="line">        delete _owners[tokenId];</span><br><span class="line"></span><br><span class="line">        // 从_tokenURLs中删除对应的tokenURL</span><br><span class="line">        string memory tokenURL = _tokenURLs[tokenId];</span><br><span class="line">        delete _tokenURLs[tokenId];</span><br><span class="line">        delete _urlToTokenId[tokenURL];</span><br><span class="line"></span><br><span class="line">        // 从_owners的tokenId数组中移除tokenId</span><br><span class="line">        uint256[] storage ownedTokens = _ownedTokens[owner];</span><br><span class="line">        for (uint256 i = 0; i &lt; ownedTokens.length; i++) &#123;</span><br><span class="line">            if (ownedTokens[i] == tokenId) &#123;</span><br><span class="line">                ownedTokens[i] = ownedTokens[ownedTokens.length - 1];</span><br><span class="line">                ownedTokens.pop();</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // 从_owners的tokenURL数组中移除tokenURL</span><br><span class="line">        string[] storage ownedURLs = _ownedURLs[owner];</span><br><span class="line">        for (uint256 i = 0; i &lt; ownedURLs.length; i++) &#123;</span><br><span class="line">            if (keccak256(abi.encodePacked(ownedURLs[i])) == keccak256(abi.encodePacked(tokenURL))) &#123;</span><br><span class="line">                ownedURLs[i] = ownedURLs[ownedURLs.length - 1];</span><br><span class="line">                ownedURLs.pop();</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 私有函数，用于检查代币是否存在</span><br><span class="line">    function _exists(uint256 tokenId) private view returns (bool) &#123;</span><br><span class="line">        return _owners[tokenId] != address(0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 获取Owner总共有多少token</span><br><span class="line">    function balanceOf(address owner) external view override returns (uint) &#123;</span><br><span class="line">        require(owner != address(0), &quot;owner = zero address&quot;);</span><br><span class="line">        return _balances[owner];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 根据tokenId判断Owner</span><br><span class="line">    function ownerOfTokenId(uint tokenId) public view override returns (address owner) &#123;</span><br><span class="line">        owner = _owners[tokenId];</span><br><span class="line">        require(owner != address(0), &quot;token doesn&#x27;t exist&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 根据URL判断Owner</span><br><span class="line">    function ownerOfURL(string memory tokenURI) public view returns (address) &#123;</span><br><span class="line">        uint256 token_Id = _urlToTokenId[tokenURI];</span><br><span class="line">        require(_exists(token_Id), &quot;Token with this URL does not exist&quot;);</span><br><span class="line"></span><br><span class="line">        return _owners[token_Id];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 获取Owener所有的tokenId</span><br><span class="line">    function getOwnedTokenIds(address owner) public view returns (uint256[] memory) &#123;</span><br><span class="line">        require(owner != address(0), &quot;owner = zero address&quot;);</span><br><span class="line">        return _ownedTokens[owner];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 获取Owener所有的URL</span><br><span class="line">    function getOwnedURLs(address owner) public view returns (string[] memory) &#123;</span><br><span class="line">        require(owner != address(0), &quot;owner = zero address&quot;);</span><br><span class="line">        return _ownedURLs[owner];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 检测地址是否是 合约地址</span><br><span class="line">library Address &#123;</span><br><span class="line">    function isContract(address account) internal view returns (bool) &#123;</span><br><span class="line">        uint size;</span><br><span class="line">        assembly &#123;</span><br><span class="line">            size := extcodesize(account)</span><br><span class="line">        &#125;</span><br><span class="line">        return size &gt; 0;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>以下是对一些接口的解释</p>
<ol>
<li>mint</li>
</ol>
<ul>
<li>所需参数: 拥有者地址to，数据URL</li>
<li>实现功能: 铸造一个新的代币，将新代币分配给地址 <code>to</code>，并使用 <code>tokenURI</code> 作为代币的元数据</li>
</ul>
<ol start="2">
<li>burn</li>
</ol>
<ul>
<li>所需参数: 代币tokenId</li>
<li>实现功能: 允许代币的拥有者销毁一个代币。销毁后，代币将从拥有者的余额中移除。</li>
</ul>
<ol start="3">
<li>balanceOf</li>
</ol>
<ul>
<li>所需参数: 地址<code>address owner</code></li>
<li>实现功能: 返回指定地址 <code>owner</code> 拥有的代币数量。</li>
</ul>
<ol start="4">
<li>getOwnedTokenIds</li>
</ol>
<ul>
<li>所需参数: 地址<code>address owner</code></li>
<li>实现功能: 返回一个数组，包含指定地址 <code>owner</code> 拥有的所有代币的 <code>tokenId</code>。</li>
</ul>
<ol start="5">
<li>getOwnedURLs</li>
</ol>
<ul>
<li>所需参数: 地址<code>address owner</code></li>
<li>实现功能: 返回一个数组，包含与指定地址 <code>owner</code> 拥有的代币相关联的所有 <code>tokenURL</code>。</li>
</ul>
<ol start="6">
<li>getTokenIdByUrl</li>
</ol>
<ul>
<li>所需参数: 图片的 <code>tokenURI</code></li>
<li>实现功能: 根据提供的 <code>tokenURI</code> 返回对应的 <code>tokenId</code>。如果不存在具有该 <code>tokenURI</code> 的代币，则抛出错误。</li>
</ul>
<ol start="7">
<li>getURLbyTokenId</li>
</ol>
<ul>
<li>所需参数: 代币的tokenId<code>uint256 tokenId</code></li>
<li>实现功能: 根据提供的 <code>tokenId</code> 返回对应的 <code>tokenURI</code>。如果不存在具有该 <code>tokenId</code> 的代币，则抛出错误。</li>
</ul>
<ol start="8">
<li>OwnerOfTokenId</li>
</ol>
<ul>
<li>所需参数: 代币的tokenId<code>uint tokenId</code></li>
<li>实现功能: 返回拥有指定 <code>tokenId</code> 的代币的地址。如果代币不存在，则抛出错误。</li>
</ul>
<ol start="9">
<li>OwnerOfURL</li>
</ol>
<ul>
<li>所需参数: 图片的 <code>tokenURI</code></li>
<li>实现功能: 根据提供的 <code>tokenURI</code> 返回拥有该 <code>tokenURI</code> 的代币的地址。如果代币不存在，则抛出错误。</li>
</ul>
<h3><span id="abi-和-bytecode">abi 和 bytecode</span></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var abi = JSON.parse(&#x27;[&#123;\&quot;anonymous\&quot;:false,\&quot;inputs\&quot;:[&#123;\&quot;indexed\&quot;:true,\&quot;internalType\&quot;:\&quot;uint256\&quot;,\&quot;name\&quot;:\&quot;tokenId\&quot;,\&quot;type\&quot;:\&quot;uint256\&quot;&#125;,&#123;\&quot;indexed\&quot;:false,\&quot;internalType\&quot;:\&quot;string\&quot;,\&quot;name\&quot;:\&quot;url\&quot;,\&quot;type\&quot;:\&quot;string\&quot;&#125;],\&quot;name\&quot;:\&quot;TokenURLSet\&quot;,\&quot;type\&quot;:\&quot;event\&quot;&#125;,&#123;\&quot;inputs\&quot;:[&#123;\&quot;internalType\&quot;:\&quot;address\&quot;,\&quot;name\&quot;:\&quot;owner\&quot;,\&quot;type\&quot;:\&quot;address\&quot;&#125;],\&quot;name\&quot;:\&quot;balanceOf\&quot;,\&quot;outputs\&quot;:[&#123;\&quot;internalType\&quot;:\&quot;uint256\&quot;,\&quot;name\&quot;:\&quot;\&quot;,\&quot;type\&quot;:\&quot;uint256\&quot;&#125;],\&quot;stateMutability\&quot;:\&quot;view\&quot;,\&quot;type\&quot;:\&quot;function\&quot;&#125;,&#123;\&quot;inputs\&quot;:[&#123;\&quot;internalType\&quot;:\&quot;uint256\&quot;,\&quot;name\&quot;:\&quot;tokenId\&quot;,\&quot;type\&quot;:\&quot;uint256\&quot;&#125;],\&quot;name\&quot;:\&quot;burn\&quot;,\&quot;outputs\&quot;:[],\&quot;stateMutability\&quot;:\&quot;nonpayable\&quot;,\&quot;type\&quot;:\&quot;function\&quot;&#125;,&#123;\&quot;inputs\&quot;:[&#123;\&quot;internalType\&quot;:\&quot;address\&quot;,\&quot;name\&quot;:\&quot;owner\&quot;,\&quot;type\&quot;:\&quot;address\&quot;&#125;],\&quot;name\&quot;:\&quot;getOwnedTokenIds\&quot;,\&quot;outputs\&quot;:[&#123;\&quot;internalType\&quot;:\&quot;uint256[]\&quot;,\&quot;name\&quot;:\&quot;\&quot;,\&quot;type\&quot;:\&quot;uint256[]\&quot;&#125;],\&quot;stateMutability\&quot;:\&quot;view\&quot;,\&quot;type\&quot;:\&quot;function\&quot;&#125;,&#123;\&quot;inputs\&quot;:[&#123;\&quot;internalType\&quot;:\&quot;address\&quot;,\&quot;name\&quot;:\&quot;owner\&quot;,\&quot;type\&quot;:\&quot;address\&quot;&#125;],\&quot;name\&quot;:\&quot;getOwnedURLs\&quot;,\&quot;outputs\&quot;:[&#123;\&quot;internalType\&quot;:\&quot;string[]\&quot;,\&quot;name\&quot;:\&quot;\&quot;,\&quot;type\&quot;:\&quot;string[]\&quot;&#125;],\&quot;stateMutability\&quot;:\&quot;view\&quot;,\&quot;type\&quot;:\&quot;function\&quot;&#125;,&#123;\&quot;inputs\&quot;:[&#123;\&quot;internalType\&quot;:\&quot;string\&quot;,\&quot;name\&quot;:\&quot;tokenURI\&quot;,\&quot;type\&quot;:\&quot;string\&quot;&#125;],\&quot;name\&quot;:\&quot;getTokenIdByUrl\&quot;,\&quot;outputs\&quot;:[&#123;\&quot;internalType\&quot;:\&quot;uint256\&quot;,\&quot;name\&quot;:\&quot;\&quot;,\&quot;type\&quot;:\&quot;uint256\&quot;&#125;],\&quot;stateMutability\&quot;:\&quot;view\&quot;,\&quot;type\&quot;:\&quot;function\&quot;&#125;,&#123;\&quot;inputs\&quot;:[&#123;\&quot;internalType\&quot;:\&quot;uint256\&quot;,\&quot;name\&quot;:\&quot;tokenId\&quot;,\&quot;type\&quot;:\&quot;uint256\&quot;&#125;],\&quot;name\&quot;:\&quot;getURLbyTokeId\&quot;,\&quot;outputs\&quot;:[&#123;\&quot;internalType\&quot;:\&quot;string\&quot;,\&quot;name\&quot;:\&quot;\&quot;,\&quot;type\&quot;:\&quot;string\&quot;&#125;],\&quot;stateMutability\&quot;:\&quot;view\&quot;,\&quot;type\&quot;:\&quot;function\&quot;&#125;,&#123;\&quot;inputs\&quot;:[&#123;\&quot;internalType\&quot;:\&quot;address\&quot;,\&quot;name\&quot;:\&quot;to\&quot;,\&quot;type\&quot;:\&quot;address\&quot;&#125;,&#123;\&quot;internalType\&quot;:\&quot;string\&quot;,\&quot;name\&quot;:\&quot;tokenURI\&quot;,\&quot;type\&quot;:\&quot;string\&quot;&#125;],\&quot;name\&quot;:\&quot;mint\&quot;,\&quot;outputs\&quot;:[],\&quot;stateMutability\&quot;:\&quot;nonpayable\&quot;,\&quot;type\&quot;:\&quot;function\&quot;&#125;,&#123;\&quot;inputs\&quot;:[&#123;\&quot;internalType\&quot;:\&quot;uint256\&quot;,\&quot;name\&quot;:\&quot;tokenId\&quot;,\&quot;type\&quot;:\&quot;uint256\&quot;&#125;],\&quot;name\&quot;:\&quot;ownerOfTokenId\&quot;,\&quot;outputs\&quot;:[&#123;\&quot;internalType\&quot;:\&quot;address\&quot;,\&quot;name\&quot;:\&quot;owner\&quot;,\&quot;type\&quot;:\&quot;address\&quot;&#125;],\&quot;stateMutability\&quot;:\&quot;view\&quot;,\&quot;type\&quot;:\&quot;function\&quot;&#125;,&#123;\&quot;inputs\&quot;:[&#123;\&quot;internalType\&quot;:\&quot;string\&quot;,\&quot;name\&quot;:\&quot;tokenURI\&quot;,\&quot;type\&quot;:\&quot;string\&quot;&#125;],\&quot;name\&quot;:\&quot;ownerOfURL\&quot;,\&quot;outputs\&quot;:[&#123;\&quot;internalType\&quot;:\&quot;address\&quot;,\&quot;name\&quot;:\&quot;\&quot;,\&quot;type\&quot;:\&quot;address\&quot;&#125;],\&quot;stateMutability\&quot;:\&quot;view\&quot;,\&quot;type\&quot;:\&quot;function\&quot;&#125;]&#x27;)</span><br><span class="line"></span><br><span class="line">var code = &quot;0x&quot; +  &quot;608060405234801561001057600080fd5b506120a2806100206000396000f3fe608060405234801561001057600080fd5b50600436106100935760003560e01c80634fac7e41116100665780634fac7e41146101445780636dffece41461017457806370a08231146101a4578063cf191354146101d4578063d0def5211461020457610093565b8063105e18a81461009857806312e8ac06146100c85780631741f3e2146100f857806342966c6814610128575b600080fd5b6100b260048036038101906100ad919061114d565b610220565b6040516100bf91906112cc565b60405180910390f35b6100e260048036038101906100dd9190611324565b6103a7565b6040516100ef9190611360565b60405180910390f35b610112600480360381019061010d91906114b0565b610452565b60405161011f9190611508565b60405180910390f35b610142600480360381019061013d9190611324565b6104c7565b005b61015e6004803603810190610159919061114d565b61091a565b60405161016b91906115e1565b60405180910390f35b61018e600480360381019061018991906114b0565b610a20565b60405161019b9190611360565b60405180910390f35b6101be60048036038101906101b9919061114d565b610ac7565b6040516101cb9190611508565b60405180910390f35b6101ee60048036038101906101e99190611324565b610b7e565b6040516101fb919061164d565b60405180910390f35b61021e6004803603810190610219919061166f565b610c6b565b005b6060600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610291576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161028890611717565b60405180910390fd5b600560008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020805480602002602001604051908101604052809291908181526020016000905b8282101561039c57838290600052602060002001805461030f90611766565b80601f016020809104026020016040519081016040528092919081815260200182805461033b90611766565b80156103885780601f1061035d57610100808354040283529160200191610388565b820191906000526020600020905b81548152906001019060200180831161036b57829003601f168201915b5050505050815260200190600101906102f0565b505050509050919050565b600080600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff160361044d576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610444906117e3565b60405180910390fd5b919050565b600080600383604051610465919061183f565b908152602001604051809103902054905061047f81610db3565b6104be576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104b5906118c8565b60405180910390fd5b80915050919050565b60006104d2826103a7565b90508073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610542576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161053990611934565b60405180910390fd5b60018060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546105919190611983565b9250508190555060008083815260200190815260200160002060006101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905560006002600084815260200190815260200160002080546105ed90611766565b80601f016020809104026020016040519081016040528092919081815260200182805461061990611766565b80156106665780601f1061063b57610100808354040283529160200191610666565b820191906000526020600020905b81548152906001019060200180831161064957829003601f168201915b5050505050905060026000848152602001908152602001600020600061068c919061107e565b60038160405161069c919061183f565b9081526020016040518091039020600090556000600460008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020905060005b81805490508110156107b25784828281548110610714576107136119b7565b5b90600052602060002001540361079f5781600183805490506107369190611983565b81548110610747576107466119b7565b5b9060005260206000200154828281548110610765576107646119b7565b5b906000526020600020018190555081805480610784576107836119e6565b5b600190038181906000526020600020016000905590556107b2565b80806107aa90611a15565b9150506106f4565b506000600560008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020905060005b81805490508110156109125783604051602001610816919061183f565b6040516020818303038152906040528051906020012082828154811061083f5761083e6119b7565b5b906000526020600020016040516020016108599190611af5565b60405160208183030381529060405280519060200120036108ff5781600183805490506108869190611983565b81548110610897576108966119b7565b5b906000526020600020018282815481106108b4576108b36119b7565b5b9060005260206000200190816108ca9190611cce565b50818054806108dc576108db6119e6565b5b6001900381819060005260206000200160006108f8919061107e565b9055610912565b808061090a90611a15565b9150506107f9565b505050505050565b6060600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff160361098b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161098290611717565b60405180910390fd5b600460008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020805480602002602001604051908101604052809291908181526020018280548015610a1457602002820191906000526020600020905b815481526020019060010190808311610a00575b50505050509050919050565b600080600383604051610a33919061183f565b9081526020016040518091039020549050610a4d81610db3565b610a8c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a83906118c8565b60405180910390fd5b60008082815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16915050919050565b60008073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610b37576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b2e90611717565b60405180910390fd5b600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b6060610b8982610db3565b610bc8576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610bbf90611e02565b60405180910390fd5b600260008381526020019081526020016000208054610be690611766565b80601f0160208091040260200160405190810160405280929190818152602001828054610c1290611766565b8015610c5f5780601f10610c3457610100808354040283529160200191610c5f565b820191906000526020600020905b815481529060010190602001808311610c4257829003601f168201915b50505050509050919050565b600081604051602001610c7e919061183f565b60405160208183030381529060405280519060200120905060008160001c9050610ca88482610e1e565b610cb28184610fd9565b80600384604051610cc3919061183f565b908152602001604051809103902081905550600460008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819080600181540180825580915050600190039060005260206000200160009091909190915055600560008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002083908060018154018082558091505060019003906000526020600020016000909190919091509081610dac9190611e22565b5050505050565b60008073ffffffffffffffffffffffffffffffffffffffff1660008084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614159050919050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610e8d576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e8490611f40565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff1660008083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610f2e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f2590611fac565b60405180910390fd5b60018060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254610f7d9190611fcc565b925050819055508160008083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505050565b610fe282610db3565b611021576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016110189061204c565b60405180910390fd5b806002600084815260200190815260200160002090816110419190611e22565b50817f9f29759901a481b6bf52ac6c03ccf75f53edec21c990efc5d3828daf7f93f13b82604051611072919061164d565b60405180910390a25050565b50805461108a90611766565b6000825580601f1061109c57506110bb565b601f0160209004906000526020600020908101906110ba91906110be565b5b50565b5b808211156110d75760008160009055506001016110bf565b5090565b6000604051905090565b600080fd5b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061111a826110ef565b9050919050565b61112a8161110f565b811461113557600080fd5b50565b60008135905061114781611121565b92915050565b600060208284031215611163576111626110e5565b5b600061117184828501611138565b91505092915050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b600081519050919050565b600082825260208201905092915050565b60005b838110156111e05780820151818401526020810190506111c5565b60008484015250505050565b6000601f19601f8301169050919050565b6000611208826111a6565b61121281856111b1565b93506112228185602086016111c2565b61122b816111ec565b840191505092915050565b600061124283836111fd565b905092915050565b6000602082019050919050565b60006112628261117a565b61126c8185611185565b93508360208202850161127e85611196565b8060005b858110156112ba578484038952815161129b8582611236565b94506112a68361124a565b925060208a01995050600181019050611282565b50829750879550505050505092915050565b600060208201905081810360008301526112e68184611257565b905092915050565b6000819050919050565b611301816112ee565b811461130c57600080fd5b50565b60008135905061131e816112f8565b92915050565b60006020828403121561133a576113396110e5565b5b60006113488482850161130f565b91505092915050565b61135a8161110f565b82525050565b60006020820190506113756000830184611351565b92915050565b600080fd5b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6113bd826111ec565b810181811067ffffffffffffffff821117156113dc576113db611385565b5b80604052505050565b60006113ef6110db565b90506113fb82826113b4565b919050565b600067ffffffffffffffff82111561141b5761141a611385565b5b611424826111ec565b9050602081019050919050565b82818337600083830152505050565b600061145361144e84611400565b6113e5565b90508281526020810184848401111561146f5761146e611380565b5b61147a848285611431565b509392505050565b600082601f8301126114975761149661137b565b5b81356114a7848260208601611440565b91505092915050565b6000602082840312156114c6576114c56110e5565b5b600082013567ffffffffffffffff8111156114e4576114e36110ea565b5b6114f084828501611482565b91505092915050565b611502816112ee565b82525050565b600060208201905061151d60008301846114f9565b92915050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b611558816112ee565b82525050565b600061156a838361154f565b60208301905092915050565b6000602082019050919050565b600061158e82611523565b611598818561152e565b93506115a38361153f565b8060005b838110156115d45781516115bb888261155e565b97506115c683611576565b9250506001810190506115a7565b5085935050505092915050565b600060208201905081810360008301526115fb8184611583565b905092915050565b600082825260208201905092915050565b600061161f826111a6565b6116298185611603565b93506116398185602086016111c2565b611642816111ec565b840191505092915050565b600060208201905081810360008301526116678184611614565b905092915050565b60008060408385031215611686576116856110e5565b5b600061169485828601611138565b925050602083013567ffffffffffffffff8111156116b5576116b46110ea565b5b6116c185828601611482565b9150509250929050565b7f6f776e6572203d207a65726f2061646472657373000000000000000000000000600082015250565b6000611701601483611603565b915061170c826116cb565b602082019050919050565b60006020820190508181036000830152611730816116f4565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000600282049050600182168061177e57607f821691505b60208210810361179157611790611737565b5b50919050565b7f746f6b656e20646f65736e277420657869737400000000000000000000000000600082015250565b60006117cd601383611603565b91506117d882611797565b602082019050919050565b600060208201905081810360008301526117fc816117c0565b9050919050565b600081905092915050565b6000611819826111a6565b6118238185611803565b93506118338185602086016111c2565b80840191505092915050565b600061184b828461180e565b915081905092915050565b7f546f6b656e207769746820746869732055524c20646f6573206e6f742065786960008201527f7374000000000000000000000000000000000000000000000000000000000000602082015250565b60006118b2602283611603565b91506118bd82611856565b604082019050919050565b600060208201905081810360008301526118e1816118a5565b9050919050565b7f6e6f74206f776e6572206f6620746f6b656e0000000000000000000000000000600082015250565b600061191e601283611603565b9150611929826118e8565b602082019050919050565b6000602082019050818103600083015261194d81611911565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600061198e826112ee565b9150611999836112ee565b92508282039050818111156119b1576119b0611954565b5b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603160045260246000fd5b6000611a20826112ee565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203611a5257611a51611954565b5b600182019050919050565b60008190508160005260206000209050919050565b60008154611a7f81611766565b611a898186611803565b94506001821660008114611aa45760018114611ab957611aec565b60ff1983168652811515820286019350611aec565b611ac285611a5d565b60005b83811015611ae457815481890152600182019150602081019050611ac5565b838801955050505b50505092915050565b6000611b018284611a72565b915081905092915050565b600081549050611b1b81611766565b9050919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302611b847fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82611b47565b611b8e8683611b47565b95508019841693508086168417925050509392505050565b6000819050919050565b6000611bcb611bc6611bc1846112ee565b611ba6565b6112ee565b9050919050565b6000819050919050565b611be583611bb0565b611bf9611bf182611bd2565b848454611b54565b825550505050565b600090565b611c0e611c01565b611c19818484611bdc565b505050565b5b81811015611c3d57611c32600082611c06565b600181019050611c1f565b5050565b601f821115611c8257611c5381611a5d565b611c5c84611b37565b81016020851015611c6b578190505b611c7f611c7785611b37565b830182611c1e565b50505b505050565b600082821c905092915050565b6000611ca560001984600802611c87565b1980831691505092915050565b6000611cbe8383611c94565b9150826002028217905092915050565b818103611cdc575050611db4565b611ce582611b0c565b67ffffffffffffffff811115611cfe57611cfd611385565b5b611d088254611766565b611d13828285611c41565b6000601f831160018114611d425760008415611d30578287015490505b611d3a8582611cb2565b865550611dad565b601f198416611d5087611b22565b9650611d5b86611a5d565b60005b82811015611d8357848901548255600182019150600185019450602081019050611d5e565b86831015611da05784890154611d9c601f891682611c94565b8355505b6001600288020188555050505b5050505050505b565b7f55524c20717565727920666f72206e6f6e6578697374656e7420746f6b656e00600082015250565b6000611dec601f83611603565b9150611df782611db6565b602082019050919050565b60006020820190508181036000830152611e1b81611ddf565b9050919050565b611e2b826111a6565b67ffffffffffffffff811115611e4457611e43611385565b5b611e4e8254611766565b611e59828285611c41565b600060209050601f831160018114611e8c5760008415611e7a578287015190505b611e848582611cb2565b865550611eec565b601f198416611e9a86611a5d565b60005b82811015611ec257848901518255600182019150602085019450602081019050611e9d565b86831015611edf5784890151611edb601f891682611c94565b8355505b6001600288020188555050505b505050505050565b7f6d696e7420746f207a65726f2061646472657373000000000000000000000000600082015250565b6000611f2a601483611603565b9150611f3582611ef4565b602082019050919050565b60006020820190508181036000830152611f5981611f1d565b9050919050565b7f746f6b656e20616c7265616479206d696e746564000000000000000000000000600082015250565b6000611f96601483611603565b9150611fa182611f60565b602082019050919050565b60006020820190508181036000830152611fc581611f89565b9050919050565b6000611fd7826112ee565b9150611fe2836112ee565b9250828201905080821115611ffa57611ff9611954565b5b92915050565b7f55524c20736574206f66206e6f6e6578697374656e7420746f6b656e00000000600082015250565b6000612036601c83611603565b915061204182612000565b602082019050919050565b6000602082019050818103600083015261206581612029565b905091905056fea26469706673582212208ce0ff1638a8640dd8cb470ef80586481b1180275bd6ec1b9adbbc2e27703eb564736f6c63430008130033&quot;</span><br></pre></td></tr></table></figure>

    </div>

    
    
    
        <div class="reward-container">
  <div>赏个鸡腿🍗</div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    打赏
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechatpay.png" alt="黄梓铭 微信支付">
        <p>微信支付</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/alipay.png" alt="黄梓铭 支付宝">
        <p>支付宝</p>
      </div>

  </div>
</div>


      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2024/03/30/%E4%BB%A5%E5%A4%AA%E5%9D%8A%E7%A7%81%E9%93%BE%E9%83%A8%E7%BD%B2%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/" rel="prev" title="以太坊私链部署智能合约">
      <i class="fa fa-chevron-left"></i> 以太坊私链部署智能合约
    </a></div>
      <div class="post-nav-item">
    <a href="/2024/04/29/W4terCTF_2024_Writeup/" rel="next" title="W4terCTF 2024 Writeup">
      W4terCTF 2024 Writeup <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link"><span class="nav-number">1.</span> <span class="nav-text">代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link"><span class="nav-number">2.</span> <span class="nav-text">abi 和 bytecode</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="黄梓铭"
      src="/images/MyPhoto.jpg">
  <p class="site-author-name" itemprop="name">黄梓铭</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">8</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Ivan53471" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Ivan53471" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/1480639239@qq.com" title="E-Mail → 1480639239@qq.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">黄梓铭</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">64k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">58 分钟</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  


  
  <style>
    .copy-btn {
      display: inline-block;
      padding: 6px 12px;
      font-size: 13px;
      font-weight: 700;
      line-height: 20px;
      color: #4D4D4C;
      white-space: nowrap;
      vertical-align: middle;
      cursor: pointer;
      background-color: #F7F7F7;
      background-image: linear-gradient(#F7F7F7, #F7F7F7);
      border: 1px solid #d5d5d5;
      border-radius: 3px;
      user-select: none;
      outline: 0;
    }

    .highlight-wrap .copy-btn {
      transition: opacity .3s ease-in-out;
      opacity: 0;
      padding: 2px 6px;
      position: absolute;
      right: 4px;
      top: 8px;
    }

    .highlight-wrap:hover .copy-btn,
    .highlight-wrap .copy-btn:focus {
      opacity: 1
    }

    .highlight-wrap {
      position: relative;
    }
  </style>

  <script>
    $('.highlight').each(function (i, e) {
      var $wrap = $('<div>').addClass('highlight-wrap')
      $(e).after($wrap)
      $wrap.append($('<button>').addClass('copy-btn').append('复制').on('click', function (e) {
        var code = $(this).parent().find('.code').find('.line').map(function (i, e) {
          return $(e).text()
        }).toArray().join('\n')
        var ta = document.createElement('textarea')
        document.body.appendChild(ta)
        ta.style.position = 'absolute'
        ta.style.top = '0px'
        ta.style.left = '0px'
        ta.value = code
        ta.select()
        ta.focus()
        var result = document.execCommand('copy')
        document.body.removeChild(ta)
        
        $(this).blur()
      })).on('mouseleave', function (e) {
        var $b = $(this).find('.copy-btn')
        setTimeout(function () {
          $b.text('复制')
        }, 300)
      }).append(e)
    })
  </script>


</body>
</html>
