<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"ivan53471.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":false,"style":"default"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":-1,"unescape":true,"preload":false},"motion":{"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="ç”±äºç»¼åˆå®è·µé¡¹ç›®éœ€è¦ç”¨åˆ°Flink CDCã€Kafkaã€ElasticSearchã€Kibanaã€Dorisï¼Œä»¥ä¸‹æ˜¯å¯¹è¿™äº›æ¡†æ¶&#x2F;æŠ€æœ¯çš„è°ƒç ”">
<meta property="og:type" content="article">
<meta property="og:title" content="ç»¼åˆå®è®­è°ƒç ”">
<meta property="og:url" content="https://ivan53471.github.io/2024/03/28/%E7%BB%BC%E5%90%88%E5%AE%9E%E8%AE%AD%E8%B0%83%E7%A0%94/index.html">
<meta property="og:site_name" content="é»„æ¢“é“­ (Ivan Wong)">
<meta property="og:description" content="ç”±äºç»¼åˆå®è·µé¡¹ç›®éœ€è¦ç”¨åˆ°Flink CDCã€Kafkaã€ElasticSearchã€Kibanaã€Dorisï¼Œä»¥ä¸‹æ˜¯å¯¹è¿™äº›æ¡†æ¶&#x2F;æŠ€æœ¯çš„è°ƒç ”">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://ivan53471.github.io/2024/03/28/%E7%BB%BC%E5%90%88%E5%AE%9E%E8%AE%AD%E8%B0%83%E7%A0%94/flow-of-events.png">
<meta property="og:image" content="https://ivan53471.github.io/2024/03/28/%E7%BB%BC%E5%90%88%E5%AE%9E%E8%AE%AD%E8%B0%83%E7%A0%94/%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85.png">
<meta property="og:image" content="https://ivan53471.github.io/2024/03/28/%E7%BB%BC%E5%90%88%E5%AE%9E%E8%AE%AD%E8%B0%83%E7%A0%94/Kafka.png">
<meta property="article:published_time" content="2024-03-28T07:01:55.000Z">
<meta property="article:modified_time" content="2024-05-07T14:02:28.918Z">
<meta property="article:author" content="é»„æ¢“é“­">
<meta property="article:tag" content="C&#x2F;C++, C#, Go, ç®—æ³•, æ¸¸æˆ">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://ivan53471.github.io/2024/03/28/%E7%BB%BC%E5%90%88%E5%AE%9E%E8%AE%AD%E8%B0%83%E7%A0%94/flow-of-events.png">

<link rel="canonical" href="https://ivan53471.github.io/2024/03/28/%E7%BB%BC%E5%90%88%E5%AE%9E%E8%AE%AD%E8%B0%83%E7%A0%94/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>ç»¼åˆå®è®­è°ƒç ” | é»„æ¢“é“­ (Ivan Wong)</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">é»„æ¢“é“­ (Ivan Wong)</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äº</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»<span class="badge">6</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£<span class="badge">11</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="æœç´¢..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ivan53471.github.io/2024/03/28/%E7%BB%BC%E5%90%88%E5%AE%9E%E8%AE%AD%E8%B0%83%E7%A0%94/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/MyPhoto.jpg">
      <meta itemprop="name" content="é»„æ¢“é“­">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é»„æ¢“é“­ (Ivan Wong)">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          ç»¼åˆå®è®­è°ƒç ”
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2024-03-28 15:01:55" itemprop="dateCreated datePublished" datetime="2024-03-28T15:01:55+08:00">2024-03-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2024-05-07 22:02:28" itemprop="dateModified" datetime="2024-05-07T22:02:28+08:00">2024-05-07</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">å­¦ä¹ </span></a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0/%E7%BB%BC%E5%90%88%E5%AE%9E%E8%AE%AD/" itemprop="url" rel="index"><span itemprop="name">ç»¼åˆå®è®­</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="é˜…è¯»æ¬¡æ•°" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>3.7k</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>3 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>ç”±äºç»¼åˆå®è·µé¡¹ç›®éœ€è¦ç”¨åˆ°Flink CDCã€Kafkaã€ElasticSearchã€Kibanaã€Dorisï¼Œä»¥ä¸‹æ˜¯å¯¹è¿™äº›æ¡†æ¶&#x2F;æŠ€æœ¯çš„è°ƒç ”</p>
<span id="more"></span>

<h2><span id="flink-cdc">Flink CDC</span></h2><p><a target="_blank" rel="noopener" href="https://nightlies.apache.org/flink/flink-cdc-docs-release-3.0/zh/docs/get-started/introduction/">Flink CDC</a> æ˜¯ä¸€ä¸ªåŸºäºæµçš„æ•°æ®é›†æˆå·¥å…·ï¼Œæ—¨åœ¨ä¸ºç”¨æˆ·æä¾›ä¸€å¥—åŠŸèƒ½æ›´åŠ å…¨é¢çš„ç¼–ç¨‹æ¥å£ï¼ˆAPIï¼‰ã€‚</p>
<h3><span id="äº‹ä»¶">äº‹ä»¶</span></h3><p>äº‹ä»¶åˆ†ä¸ºDataChangeEventã€SchemaChangeEventã€Flow of Events</p>
<h4><span id="datachangeevent">DataChangeEvent</span></h4><p><em>DataChangeEvent</em> æè¿°äº†æºä¸­çš„æ•°æ®å˜æ›´ã€‚å®ƒç”± 5 ä¸ªå­—æ®µç»„æˆï¼š</p>
<ul>
<li>Table IDï¼šäº‹ä»¶æ‰€å±çš„è¡¨ ID</li>
<li>Beforeï¼šæ•°æ®çš„å‰ç½®å›¾åƒ</li>
<li>Afterï¼šæ•°æ®çš„åç½®å›¾åƒ</li>
<li>Operation typeï¼šå˜æ›´æ“ä½œçš„ç±»å‹</li>
<li>Metaï¼šå˜æ›´çš„å…ƒæ•°æ®</li>
</ul>
<p>æ“ä½œç±»å‹å­—æ®µé¢„å®šä¹‰äº† 4 ç§æ“ä½œç±»å‹ï¼š</p>
<ul>
<li>æ’å…¥ï¼ˆInsertï¼‰ï¼šæ–°æ•°æ®æ¡ç›®ï¼Œbefore &#x3D; nullï¼Œafter &#x3D; æ–°æ•°æ®</li>
<li>åˆ é™¤ï¼ˆDeleteï¼‰ï¼šæ•°æ®åˆ é™¤ï¼Œbefore &#x3D; è¢«åˆ é™¤çš„æ•°æ®ï¼Œafter &#x3D; null</li>
<li>æ›´æ–°ï¼ˆUpdateï¼‰ï¼šå·²å­˜åœ¨æ•°æ®çš„æ›´æ–°ï¼Œbefore &#x3D; å˜æ›´å‰çš„æ•°æ®ï¼Œafter &#x3D; å˜æ›´åçš„æ•°æ®</li>
<li>æ›¿æ¢ï¼ˆReplaceï¼‰</li>
</ul>
<h4><span id="schemachangeevent">SchemaChangeEvent</span></h4><p><em>SchemaChangeEvent</em> æè¿°äº†å¤–éƒ¨ç³»ç»Ÿä¸­è¡¨ç»“æ„çš„æ›´æ”¹</p>
<ul>
<li>AddColumnEventï¼šè¡¨ä¸­çš„æ–°åˆ—</li>
<li>AlterColumnTypeEventï¼šåˆ—ç±»å‹çš„æ›´æ”¹</li>
<li>CreateTableEventï¼šåˆ›å»ºæ–°è¡¨ã€‚ä¹Ÿç”¨äºæè¿°é¢„å‘å‡ºçš„ DataChangeEvent çš„æ¨¡å¼</li>
<li>DropColumnEventï¼šåˆ é™¤åˆ—</li>
<li>RenameColumnEventï¼šåˆ—åæ›´æ”¹</li>
</ul>
<h4><span id="äº‹ä»¶æµ">äº‹ä»¶æµ</span></h4><p>å¦‚æœä¸€ä¸ªè¡¨å¯¹æ¡†æ¶æ˜¯æ–°çš„ï¼Œåˆ™åœ¨ä»»ä½• DataChangeEvent ä¹‹å‰å¿…é¡»å‘å‡º CreateTableEventï¼›å¦‚æœè¡¨çš„ schema å‘ç”Ÿå˜åŒ–ï¼Œåˆ™å¿…é¡»åœ¨ä»»ä½• DataChangeEvent ä¹‹å‰å‘å‡º SchemaChangeEventã€‚</p>
<img data-src="/2024/03/28/%E7%BB%BC%E5%90%88%E5%AE%9E%E8%AE%AD%E8%B0%83%E7%A0%94/flow-of-events.png" class title="äº‹ä»¶æµå›¾">

<h3><span id="å¦‚ä½•ä½¿ç”¨-flink-cdc">å¦‚ä½•ä½¿ç”¨ Flink CDC</span></h3><p><a target="_blank" rel="noopener" href="https://nightlies.apache.org/flink/flink-cdc-docs-release-3.0/zh/docs/get-started/quickstart/mysql-to-doris/">MySQL åŒæ­¥åˆ° Doris</a><br>Flink CDC æä¾›äº†åŸºäº YAML æ ¼å¼çš„ç”¨æˆ· APIï¼Œæ›´é€‚åˆäºæ•°æ®é›†æˆåœºæ™¯ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ª YAML æ–‡ä»¶çš„ç¤ºä¾‹ï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ªæ•°æ®ç®¡é“(Pipeline)ï¼Œè¯¥Pipelineä» MySQL æ•è·å®æ—¶å˜æ›´ï¼Œå¹¶å°†å®ƒä»¬åŒæ­¥åˆ° Apache Dorisï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">source:</span><br><span class="line">  type: mysql</span><br><span class="line">  hostname: localhost</span><br><span class="line">  port: 3306</span><br><span class="line">  username: root</span><br><span class="line">  password: 123456</span><br><span class="line">  tables: app_db.\.*</span><br><span class="line">  server-id: 5400-5404</span><br><span class="line">  server-time-zone: UTC</span><br><span class="line"></span><br><span class="line">sink:</span><br><span class="line">  type: doris</span><br><span class="line">  fenodes: 127.0.0.1:8030</span><br><span class="line">  username: root</span><br><span class="line">  password: &quot;&quot;</span><br><span class="line">  table.create.properties.light_schema_change: true</span><br><span class="line">  table.create.properties.replication_num: 1</span><br><span class="line"></span><br><span class="line">pipeline:</span><br><span class="line">  name: Sync MySQL Database to Doris</span><br><span class="line">  parallelism: 2</span><br></pre></td></tr></table></figure>
<p>æºæ•°æ®åº“ï¼ˆsourceï¼‰æ˜¯ MySQLï¼Œè¿æ¥ä¿¡æ¯åŒ…æ‹¬ä¸»æœºåï¼ˆlocalhostï¼‰ã€ç«¯å£ï¼ˆ3306ï¼‰ã€ç”¨æˆ·åï¼ˆrootï¼‰ã€å¯†ç ï¼ˆ123456ï¼‰ã€è¡¨ï¼ˆapp_dbä¸‹çš„æ‰€æœ‰è¡¨ï¼‰ã€æœåŠ¡å™¨IDï¼ˆ5400-5404ï¼‰å’ŒæœåŠ¡å™¨æ—¶åŒºï¼ˆUTCï¼‰ã€‚<br>ç›®æ ‡æ•°æ®åº“ï¼ˆsinkï¼‰æ˜¯ Dorisï¼Œè¿æ¥ä¿¡æ¯åŒ…æ‹¬FEèŠ‚ç‚¹ï¼ˆ127.0.0.1:8030ï¼‰ã€ç”¨æˆ·åï¼ˆrootï¼‰ã€å¯†ç ï¼ˆç©ºå­—ç¬¦ä¸²ï¼Œå³æ²¡æœ‰å¯†ç ï¼‰ã€è¡¨åˆ›å»ºå±æ€§ï¼ˆåŒ…æ‹¬è½»é‡æ¨¡å¼å˜æ›´å’Œå¤åˆ¶æ•°ç­‰è®¾ç½®ï¼‰ã€‚<br>Pipeline éƒ¨åˆ†å®šä¹‰äº†æ•°æ®åŒæ­¥ä»»åŠ¡çš„åç§°ï¼ˆSync MySQL Database to Dorisï¼‰å’Œå¹¶è¡Œåº¦ï¼ˆ2ï¼‰ã€‚</p>
<h2><span id="kafka">Kafka</span></h2><p>Kafka æ˜¯ç”± Linkedin å…¬å¸å¼€å‘çš„ï¼Œå®ƒæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„ï¼Œæ”¯æŒå¤šåˆ†åŒºã€å¤šå‰¯æœ¬ï¼ŒåŸºäº Zookeeper çš„åˆ†å¸ƒå¼æ¶ˆæ¯æµå¹³å°ï¼Œå®ƒåŒæ—¶ä¹Ÿæ˜¯ä¸€æ¬¾å¼€æºçš„åŸºäºå‘å¸ƒè®¢é˜…æ¨¡å¼çš„æ¶ˆæ¯å¼•æ“ç³»ç»Ÿã€‚</p>
<h3><span id="ä¸»è¦æœ¯è¯­">ä¸»è¦æœ¯è¯­</span></h3><p>ä»¥ä¸‹æ–‡æ®µæ‘˜å½•äº <a target="_blank" rel="noopener" href="https://kafka.apache.org/intro">kafka</a> å®˜æ–¹ã€‚</p>
<p>An <em>event</em> records the fact that â€œsomething happenedâ€ in the world or in your business. It is also called record or message in the documentation. When you read or write data to Kafka, you do this in the form of events. Conceptually, an event has a <em>key</em>, <em>value</em>, <em>timestamp</em>, and <em>optional metadata headers</em>.<br>An exampleï¼š</p>
<ul>
<li>keyï¼šâ€œAliceâ€</li>
<li>valueï¼šâ€œå‘ Bob æ”¯ä»˜äº† 200 ç¾å…ƒâ€</li>
<li>timestampï¼šâ€œ2020 å¹´ 6 æœˆ 25 æ—¥ä¸‹åˆ 2ï¼š06â€ã€‚</li>
</ul>
<p><em>Producers</em> are those client applications that publish (write) events to Kafka, and <em>consumers</em> are those that subscribe to (read and process) these events. </p>
<img data-src="/2024/03/28/%E7%BB%BC%E5%90%88%E5%AE%9E%E8%AE%AD%E8%B0%83%E7%A0%94/%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85.png" class title="ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å¼">

<p>Events are organized and durably stored in <em>topics</em>. A topic is similar to a folder in a filesystem, and the events are the files in that folder. Topics in Kafka are always <strong>multi-producer and multi-subscriber</strong>.</p>
<p>Topics are partitioned, meaning a topic is spread over a number of â€œbucketsâ€ located on different Kafka brokers. </p>
<p>Kafka ä¿è¯å…·æœ‰ç›¸åŒ Key çš„äº‹ä»¶å†™å…¥è¢«åŒä¸€åˆ†åŒºï¼Œè¯»å–æ—¶æŒ‰å†™å…¥é¡ºåºè¯»ã€‚ä½†æ˜¯ Kafka <strong>ä¸ä¿è¯</strong>ä¸åŒ Partition è·å–çš„ä¿¡æ¯æ˜¯æœ‰åºçš„ï¼Œåªä¿è¯åŒ Partition å†…æ¶ˆæ¯æœ‰åºã€‚</p>
<img data-src="/2024/03/28/%E7%BB%BC%E5%90%88%E5%AE%9E%E8%AE%AD%E8%B0%83%E7%A0%94/Kafka.png" class title="åˆ†åŒºç¤ºæ„å›¾">

<h3><span id="å¿«é€Ÿå…¥é—¨-kafka">å¿«é€Ÿå…¥é—¨ Kafka</span></h3><p><a target="_blank" rel="noopener" href="https://kafka.apache.org/quickstart">å¿«é€Ÿå…¥é—¨</a></p>
<h3><span id="kafka-å’Œ-rabbitmq-çš„åŒºåˆ«">Kafka å’Œ RabbitMQ çš„åŒºåˆ«</span></h3><table>
<thead>
<tr>
<th>ç‰¹æ€§</th>
<th>RabbitMQ</th>
<th>Kafka</th>
</tr>
</thead>
<tbody><tr>
<td>æ¶æ„</td>
<td>RabbitMQ çš„æ¶æ„ä¸“ä¸ºå¤æ‚çš„æ¶ˆæ¯è·¯ç”±è€Œè®¾è®¡ã€‚è¯¥ä»£ç†ä½¿ç”¨æ¨é€æ¨¡å‹ã€‚ç”Ÿäº§è€…ä½¿ç”¨ä¸åŒçš„è§„åˆ™å‘ä½¿ç”¨è€…å‘é€æ¶ˆæ¯ã€‚</td>
<td>Kafka ä½¿ç”¨åŸºäºåˆ†åŒºçš„è®¾è®¡è¿›è¡Œå®æ—¶ã€é«˜ååé‡çš„æµå¤„ç†ã€‚è¯¥ä»£ç†ä½¿ç”¨æ‹‰å–æ¨¡å‹ã€‚ç”Ÿäº§è€…å‘ä½¿ç”¨è€…è®¢é˜…çš„ä¸»é¢˜å’Œåˆ†åŒºå‘å¸ƒæ¶ˆæ¯ã€‚</td>
</tr>
<tr>
<td>æ¶ˆæ¯å¤„ç†</td>
<td>RabbitMQ ä»£ç†ç›‘æ§æ¶ˆæ¯ä½¿ç”¨ã€‚æ­¤ä»£ç†ä¼šåœ¨æ¶ˆæ¯è¢«ä½¿ç”¨åå°†å…¶åˆ é™¤ã€‚å®ƒæ”¯æŒæ¶ˆæ¯ä¼˜å…ˆçº§ã€‚</td>
<td>ä½¿ç”¨è€…ä½¿ç”¨åç§»è·Ÿè¸ªå™¨è·Ÿè¸ªæ¶ˆæ¯æ£€ç´¢æƒ…å†µã€‚Kafka æ ¹æ®ä¿ç•™ç­–ç•¥ä¿ç•™æ¶ˆæ¯ã€‚å…¶ä¸­æ²¡æœ‰æ¶ˆæ¯ä¼˜å…ˆçº§ã€‚</td>
</tr>
<tr>
<td>æ€§èƒ½</td>
<td>RabbitMQ æä¾›ä½å»¶è¿Ÿã€‚å®ƒæ¯ç§’å‘é€æ•°åƒæ¡æ¶ˆæ¯ã€‚</td>
<td>Kafka æ¯ç§’å¯å®æ—¶ä¼ è¾“å¤šè¾¾æ•°ç™¾ä¸‡æ¡æ¶ˆæ¯ã€‚</td>
</tr>
<tr>
<td>ç¼–ç¨‹è¯­è¨€</td>
<td>RabbitMQ æ”¯æŒå¤šç§è¯­è¨€å’Œæ—§å¼åè®®ã€‚</td>
<td>Kafka çš„ç¼–ç¨‹è¯­è¨€é€‰æ‹©æœ‰é™ã€‚è¯¥ä»£ç†åœ¨ TCP ä¸Šä½¿ç”¨äºŒè¿›åˆ¶åè®®è¿›è¡Œæ•°æ®ä¼ è¾“ã€‚</td>
</tr>
</tbody></table>
<h2><span id="elasticsearch">ElasticSearch</span></h2><p><a target="_blank" rel="noopener" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/documents-indices.html">Elasticsearch</a> is a distributed document store. Instead of storing information as rows of columnar data, Elasticsearch stores complex data structures that have been serialized as JSON documents.</p>
<p>Elasticsearch REST API æ”¯æŒç»“æ„åŒ–æŸ¥è¯¢ã€å…¨æ–‡æŸ¥è¯¢å’Œå°†ä¸¤è€…ç»“åˆåœ¨ä¸€èµ·çš„æŸ¥è¯¢çš„å¤æ‚æŸ¥è¯¢ </p>
<p>å’Œæ™®é€šçš„æ•°æ®åº“æ¨¡ç³Šæœç´¢ä¸åŒï¼Œ<em>Elasticsearch</em> çš„æ¨¡ç³Šæœç´¢æ˜¯èƒ½ä½¿ç”¨ä¸Šç´¢å¼•çš„ï¼Œæ‰€ä»¥åœ¨å¤§æ•°æ®åœºæ™¯ä¸‹æœç´¢é€Ÿåº¦å¿«ï¼›è€Œä¸”ï¼Œ<em>Elasticsearch</em> çš„æ¨¡ç³Šæœç´¢æ”¯æŒæ’åºï¼Œåªè¿”å›æ’åé«˜çš„è®°å½•ï¼›å¦å¤–ï¼Œ<em>Elasticsearch</em> çš„æ¨¡ç³Šæœç´¢åœ¨é‡åˆ°ä¸å¤ªå‡†ç¡®çš„å…³é”®å­—æ—¶ä¹Ÿèƒ½æœå‡ºç›¸å…³ç»“æœã€‚</p>
<h2><span id="kibana">Kibana</span></h2><p><a target="_blank" rel="noopener" href="https://www.elastic.co/guide/en/kibana/current/introduction.html">Kibana</a> enables you to give shape to your data and navigate the Elastic Stack</p>
<h3><span id="kibana-å’Œ-elasticsearch-å…³ç³»">Kibana å’Œ ElasticSearch å…³ç³»</span></h3><p>Kibana è¿è¡Œåœ¨ Elasticsearch ä¹‹ä¸Šï¼Œä¸»è¦ç”¨äºåˆ†ææ—¥å¿—æ¶ˆæ¯ã€‚</p>

    </div>

    
    
    
        <div class="reward-container">
  <div>èµä¸ªé¸¡è…¿ğŸ—</div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    æ‰“èµ
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechatpay.png" alt="é»„æ¢“é“­ å¾®ä¿¡æ”¯ä»˜">
        <p>å¾®ä¿¡æ”¯ä»˜</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/alipay.png" alt="é»„æ¢“é“­ æ”¯ä»˜å®">
        <p>æ”¯ä»˜å®</p>
      </div>

  </div>
</div>


      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2024/03/27/Go%E8%B0%83%E7%94%A8geth_JSON_RPC%E6%8E%A5%E5%8F%A3/" rel="prev" title="Goè°ƒç”¨geth JSON RPCæ¥å£">
      <i class="fa fa-chevron-left"></i> Goè°ƒç”¨geth JSON RPCæ¥å£
    </a></div>
      <div class="post-nav-item">
    <a href="/2024/03/30/%E4%BB%A5%E5%A4%AA%E5%9D%8A%E7%A7%81%E9%93%BE%E9%83%A8%E7%BD%B2%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/" rel="next" title="ä»¥å¤ªåŠç§é“¾éƒ¨ç½²æ™ºèƒ½åˆçº¦">
      ä»¥å¤ªåŠç§é“¾éƒ¨ç½²æ™ºèƒ½åˆçº¦ <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link"><span class="nav-number">1.</span> <span class="nav-text">Flink CDC</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link"><span class="nav-number">1.1.</span> <span class="nav-text">äº‹ä»¶</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link"><span class="nav-number">1.1.1.</span> <span class="nav-text">DataChangeEvent</span></a></li><li class="nav-item nav-level-4"><a class="nav-link"><span class="nav-number">1.1.2.</span> <span class="nav-text">SchemaChangeEvent</span></a></li><li class="nav-item nav-level-4"><a class="nav-link"><span class="nav-number">1.1.3.</span> <span class="nav-text">äº‹ä»¶æµ</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link"><span class="nav-number">1.2.</span> <span class="nav-text">å¦‚ä½•ä½¿ç”¨ Flink CDC</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link"><span class="nav-number">2.</span> <span class="nav-text">Kafka</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link"><span class="nav-number">2.1.</span> <span class="nav-text">ä¸»è¦æœ¯è¯­</span></a></li><li class="nav-item nav-level-3"><a class="nav-link"><span class="nav-number">2.2.</span> <span class="nav-text">å¿«é€Ÿå…¥é—¨ Kafka</span></a></li><li class="nav-item nav-level-3"><a class="nav-link"><span class="nav-number">2.3.</span> <span class="nav-text">Kafka å’Œ RabbitMQ çš„åŒºåˆ«</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link"><span class="nav-number">3.</span> <span class="nav-text">ElasticSearch</span></a></li><li class="nav-item nav-level-2"><a class="nav-link"><span class="nav-number">4.</span> <span class="nav-text">Kibana</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link"><span class="nav-number">4.1.</span> <span class="nav-text">Kibana å’Œ ElasticSearch å…³ç³»</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="é»„æ¢“é“­"
      src="/images/MyPhoto.jpg">
  <p class="site-author-name" itemprop="name">é»„æ¢“é“­</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">11</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Ivan53471" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;Ivan53471" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/1480639239@qq.com" title="E-Mail â†’ 1480639239@qq.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">é»„æ¢“é“­</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">ç«™ç‚¹æ€»å­—æ•°ï¼š</span>
    <span title="ç«™ç‚¹æ€»å­—æ•°">82k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">ç«™ç‚¹é˜…è¯»æ—¶é•¿ &asymp;</span>
    <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">1:15</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="æ€»è®¿å®¢é‡">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="æ€»è®¿é—®é‡">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  


  
  <style>
    .copy-btn {
      display: inline-block;
      padding: 6px 12px;
      font-size: 13px;
      font-weight: 700;
      line-height: 20px;
      color: #4D4D4C;
      white-space: nowrap;
      vertical-align: middle;
      cursor: pointer;
      background-color: #F7F7F7;
      background-image: linear-gradient(#F7F7F7, #F7F7F7);
      border: 1px solid #d5d5d5;
      border-radius: 3px;
      user-select: none;
      outline: 0;
    }

    .highlight-wrap .copy-btn {
      transition: opacity .3s ease-in-out;
      opacity: 0;
      padding: 2px 6px;
      position: absolute;
      right: 4px;
      top: 8px;
    }

    .highlight-wrap:hover .copy-btn,
    .highlight-wrap .copy-btn:focus {
      opacity: 1
    }

    .highlight-wrap {
      position: relative;
    }
  </style>

  <script>
    $('.highlight').each(function (i, e) {
      var $wrap = $('<div>').addClass('highlight-wrap')
      $(e).after($wrap)
      $wrap.append($('<button>').addClass('copy-btn').append('å¤åˆ¶').on('click', function (e) {
        var code = $(this).parent().find('.code').find('.line').map(function (i, e) {
          return $(e).text()
        }).toArray().join('\n')
        var ta = document.createElement('textarea')
        document.body.appendChild(ta)
        ta.style.position = 'absolute'
        ta.style.top = '0px'
        ta.style.left = '0px'
        ta.value = code
        ta.select()
        ta.focus()
        var result = document.execCommand('copy')
        document.body.removeChild(ta)
        
        $(this).blur()
      })).on('mouseleave', function (e) {
        var $b = $(this).find('.copy-btn')
        setTimeout(function () {
          $b.text('å¤åˆ¶')
        }, 300)
      }).append(e)
    })
  </script>


</body>
</html>
